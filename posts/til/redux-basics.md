---
title: ë¦¬ë•ìŠ¤ ì‹œì‘í•˜ê¸°
date: "2022-01-13"
description: "ë°”ì˜ë”” ë°”ìœ í˜„ëŒ€ ì‚¬íšŒì—ì„œ í˜¸ë‹¤ë‹¥ ë¦¬ë•ìŠ¤ ê¸°ì´ˆë¥¼ ì •ë¦¬í•´ë´…ì‹œë‹¤."
tags: ["Redux", "TIL", "Basics"]
---

> ë³¸ í¬ìŠ¤íŒ…ì€ [ë¦¬ë•ìŠ¤ ê³µì‹ë¬¸ì„œ](https://ko.redux.js.org/)ì˜ [ë¦¬ë•ìŠ¤ íŠœí† ë¦¬ì–¼](https://ko.redux.js.org/tutorials/essentials/part-1-overview-concepts)ì„ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

# ë“¤ì–´ê°€ë©°

---

ë¦¬ë•ìŠ¤ ì‹œì‘í•˜ê¸°ë¥¼ ë“¤ì–´ê°€ë©´ ë¦¬ë•ìŠ¤ì— ëŒ€í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

> **Redux**ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì•±ì„ ìœ„í•œ **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœ ì»¨í…Œì´ë„ˆ**ì…ë‹ˆë‹¤.

ì´ëŠ” ìƒíƒœ ê°’ë“¤ì„ **ì¼ê´„ì ìœ¼ë¡œ `store` ì—ì„œ ê´€ë¦¬**í•˜ì—¬ ì´ë¥¼ **`action`** ì´ë¼ëŠ” ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•œë‹¤ëŠ”** ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ê·¸ë ‡ê¸°ì— ë¦¬ë•ìŠ¤ëŠ” **ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ë‹¤ì–‘í•œ ìƒíƒœ ê°’ì´ ì¡´ì¬**í•˜ê³  ì´ëŸ¬í•œ ìƒíƒœê°€ **ìì£¼ ì—…ë°ì´íŠ¸ ë˜ë©°**, ëŒ€ëŸ‰ì˜ **ì½”ë“œ ë² ì´ìŠ¤ë¥¼ ê³µë™ìœ¼ë¡œ ê´€ë¦¬í•  ë•Œ** ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ ë¦¬ë•ìŠ¤ëŠ” ë‹¤ìŒì˜ íŒ¨í‚¤ì§€ë“¤ê³¼ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.

- **React-Redux**
- **Redux Toolkit**
- **Redux DevTools Extension**

# ë¦¬ë•ìŠ¤ ìš©ì–´ ë° ê°œë…

---

ì‹¤ì œ ì½”ë“œë¥¼ ì‚´í´ë³´ê¸°ì— ì•ì„œ ë¦¬ë•ìŠ¤ì™€ ê´€ë ¨ëœ ìš©ì–´ì™€ ê°œë…ì— ëŒ€í•œ ì´í•´ë¥¼ ë•ê³  ì‹œì‘í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ìƒíƒœ ê´€ë¦¬(State Management)

---

```ts
function Counter() {
  // State: a counter value
  const [counter, setCounter] = useState(0);

  // Action: code that causes an update to the state when something happens
  const increment = () => {
    setCounter((prevCounter) => prevCounter + 1);
  };

  // View: the UI definition
  return (
    <div>
      Value: {counter} <button onClick={increment}>Increment</button>
    </div>
  );
}
```

ìœ„ `Counter` ì»´í¬ë„ŒíŠ¸ëŠ” ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ `counter` ë¼ëŠ” ìƒíƒœ ê°’ì„ 1ì”© ì¦ê°€ì‹œí‚¤ëŠ” ì¼ë°˜ì ì¸ ì˜ˆì‹œì…ë‹ˆë‹¤. í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤.

- **ìƒíƒœ(state)** : ì•±ì„ ì‘ë™ì‹œí‚¤ëŠ” ì†ŒìŠ¤
- **ë·°(view)** : í˜„ì¬ ìƒíƒœì— ê¸°ë°˜í•œ UI ë‚´ìš©
- **ì•¡ì…˜(action)** : ì‚¬ìš©ì ì…ë ¥ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì´ë²¤íŠ¸ ë° íŠ¸ë¦¬ê±° ì—…ë°ì´íŠ¸

ì´ë¥¼ **ë‹¨ë°©í–¥ ë°ì´í„° íë¦„**ìœ¼ë¡œ ë³´ë©´ ë Œë”ë§ì€ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ë©ë‹ˆë‹¤.

- ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ UIê°€ ë Œë”ë§
- ìœ„ ê²½ìš° ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ, ìƒíƒœì˜ ì—…ë°ì´íŠ¸ ë°œìƒ
- ìƒˆ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ UIëŠ” ì¬ë Œë”ë§

ìœ„ íë¦„ì˜ ê²½ìš° ë¬¸ì œê°€ ì—†ì–´ ë³´ì´ì§€ë§Œ, í•´ë‹¹ **ìƒíƒœë¥¼ ê³µìœ í•˜ì—¬ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°**ì—ëŠ” ë‚´ìš©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë„ë¡œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ **ìƒíƒœë¥¼ ëŒì–´ì˜¬ë¦¬ëŠ”** ë°©ë²•ì„ ì„ íƒí•˜ê¸°ë„ í•˜ì§€ë§Œ ì´ë¡œ ì¸í•´ êµ‰ì¥íˆ ë³µì¡í•œ ì½”ë“œê°€ ë§Œë“¤ì–´ ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ìœ„í•œ ë¦¬ë•ìŠ¤ì˜ ê¸°ë³¸ ì•„ì´ë””ì–´ëŠ” ë·°ì™€ ìƒíƒœ ê´€ë¦¬ë¥¼ êµ¬ë¶„í•˜ì—¬ **ìƒíƒœ ê´€ë¦¬ë¥¼ ì¼ê´„ì ìœ¼ë¡œ ë‹¨ì¼ ìœ„ì¹˜ì—ì„œ ì§„í–‰**í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

## ìš©ì–´

---

ë¦¬ë•ìŠ¤ í•™ìŠµì„ ìœ„í•´ ìˆ™ì§€í•´ì•¼ í•  ëª‡ ê°€ì§€ ìš©ì–´ë“¤ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

### ì•¡ì…˜(Action)

---

ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ í˜•íƒœì¸ **ì•¡ì…˜**ì€ `type` í•„ë“œë¥¼ ê°€ì§€ë©° ì•±ì—ì„œ ì¼ì–´ë‚œ ì¼ë“¤ì— ëŒ€í•´ ì„¤ëª…í•˜ëŠ” ê²ƒì´ë¼ê³  ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì•¡ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°–ìŠµë‹ˆë‹¤.

```ts
const addTodoAction = {
  type: "todos/todoAdded",
  payload: "Buy milk",
};
```

`type` ì€ **ë¬¸ìì—´** ê°’ì„ ê°€ì§€ë©° ëŒ€ê°œ `domain/eventName` ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ `payload` í•„ë“œê°€ í¬í•¨ë  ìˆ˜ ìˆëŠ”ë°, í•´ë‹¹ ì˜ì—­ì€ **ì¶”ê°€ì ì¸ ì •ë³´**ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” í•„ë“œì…ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì•¡ì…˜ì„ ìˆ˜ê¸°ë¡œ ì‘ì„±í•˜ì—¬ ë§Œë“¤ ìˆ˜ë„ ìˆì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì´ **ìƒì„± í•¨ìˆ˜**ë¥¼ ë§Œë“¤ì–´ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
const addTodo = (text) => {
  return {
    type: "todos/todoAdded",
    payload: text,
  };
};
```

### ë¦¬ë“€ì„œ(Reducer)

---

**ë¦¬ë“€ì„œ**ëŠ” í˜„ì¬ **ìƒíƒœ ê°’**ê³¼ **ì•¡ì…˜ ê°ì²´**ë¥¼ ë°›ì•„ ìƒíƒœ ì—…ë°ì´íŠ¸ ë°©ì‹ì„ ê²°ì •í•˜ê³  ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¥¼ ê°–ìŠµë‹ˆë‹¤.

- `(state, action) => newState`

ê·¸ë¦¬ê³  ë¦¬ë“€ì„œëŠ” ë‹¤ìŒì˜ ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

- **ìƒíƒœì™€ ì•¡ì…˜ì— ê¸°ë°˜**í•˜ì—¬ ìƒˆ ìƒíƒœ ê°’ì„ ê³„ì‚°í•´ì•¼í•©ë‹ˆë‹¤.
- **ê¸°ì¡´ ìƒíƒœ ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©°**, ë³µì‚¬ëœ ê°’ì„ í†µí•´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
- ë¹„ë™ê¸° ë¡œì§ ì‹¤í–‰, ëœë¤ ê°’ ê³„ì‚° ê·¸ë¦¬ê³  ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì•¼ê¸°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê¸°ì¡´ ìƒíƒœ ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì€ ìš°ë¦¬ê°€ ê¸°ì¡´ì— ë¦¬ì•¡íŠ¸ì—ì„œ ìœ ì§€í•´ì™”ë˜ **ë¶ˆë³€ì„±**ì— ëŒ€í•œ ì‚¬í•­ê³¼ ìœ ì‚¬í•´ë³´ì…ë‹ˆë‹¤. ë¦¬ë“€ì„œëŠ” ë‹¤ìŒì˜ ì ˆì°¨ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

- ë¦¬ë“€ì„œê°€ íŠ¹ì • ì•¡ì…˜ì— ê´€ì‹¬ì´ ìˆëŠ” ì§€(ë²ˆì—­ìƒ í‘œí˜„ì¸ë° ì•¡ì…˜ì— í•´ë‹¹í•˜ëŠ” ì§€ë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤)ë¥¼ íŒŒì•…í•©ë‹ˆë‹¤.
  - ê·¸ë ‡ë‹¤ë©´ ìƒíƒœ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

ë‹¤ìŒì˜ ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ í†µí•´ ë¦¬ë“€ì„œê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ” ì§€ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
const initialState = { value: 0 };

function counterReducer(state = initialState, action) {
  // Check to see if the reducer cares about this action
  if (action.type === "counter/increment") {
    // If so, make a copy of `state`
    return {
      ...state,
      // and update the copy with the new value
      value: state.value + 1,
    };
  }
  // otherwise return the existing state unchanged
  return state;
}
```

ë¦¬ë“€ì„œëŠ” ìœ„ì™€ ê°™ì´ **ë…¼ë¦¬ ì—°ì‚°(`if/else` , `switch` ë“±)ì„ í†µí•´** ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ìŠ¤í† ì–´(Store)

---

ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ, **ìŠ¤í† ì–´(Store)ëŠ” ì•±ì˜ ìƒíƒœë¥¼ ë³´ê´€í•˜ëŠ” ê°ì²´**ì…ë‹ˆë‹¤. ìŠ¤í† ì–´ëŠ” **ë¦¬ë“€ì„œë¥¼ ì „ë‹¬ ë°›ì•„ ìƒì„±**ë˜ë©° **`getState` ë©”ì„œë“œë¥¼ í†µí•´ í˜„ì¬ ìƒíƒœ ê°’ì„ ë°˜í™˜**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
import { configureStore } from "@reduxjs/toolkit";

const store = configureStore({ reducer: counterReducer });

console.log(store.getState());
// {value: 0}
```

### ë””ìŠ¤íŒ¨ì¹˜(`dispatch`)

---

ë˜í•œ `dispatch` ë©”ì„œë“œë¥¼ í†µí•´ **ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.** ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ìœ ì¼í•œ ë°©ë²•ì¸ `dispatch` ëŠ” `store.dispatch` ë¥¼ í†µí•´ **ì•¡ì…˜ ê°ì²´ë¥¼ í˜¸ì¶œí•˜ì—¬ ì „ë‹¬í•©ë‹ˆë‹¤.**

```ts
store.dispatch({ type: "counter/increment" });

console.log(store.getState());
// {value: 1}
```

í˜¸ì¶œëœ ì•¡ì…˜ ê°ì²´ê°€ **ê´€ë ¨ì´ ìˆë‹¤ë©´ ì´ë¥¼ í†µí•´ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸**í•˜ê³ , ì£¼ë¡œ ì•¡ì…˜ ê°ì²´ëŠ” ìƒì„± í•¨ìˆ˜ë¥¼ í†µí•´ ì „ë‹¬ë©ë‹ˆë‹¤.

```ts
const increment = () => {
  return {
    type: "counter/increment",
  };
};

store.dispatch(increment());

console.log(store.getState());
// {value: 2}
```

### ì…€ë ‰í„°(Selectors)

---

**ì…€ë ‰í„°(Selectors)ëŠ” ìƒíƒœì˜ íŠ¹ì • ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤.** ì•±ì´ ì»¤ì§ì— ë”°ë¼ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ìš”ì²­í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸°ê³  ì´ë¥¼ ìœ„í•´ ë°˜ë³µì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
const selectCounterValue = (state) => state.value;

const currentValue = selectCounterValue(store.getState());
console.log(currentValue);
// 2
```

## ë¦¬ë•ìŠ¤ ì•±ì˜ ë°ì´í„° íë¦„

---

ì´ë ‡ê²Œ ìš©ì–´ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë´¤ìœ¼ë‹ˆ, ë¦¬ë•ìŠ¤ ë‚´ì—ì„œ ë°ì´í„° íë¦„ì€ ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ” ì§€ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì˜ ë‹¨ê³„ëŠ” ë¦¬ë•ìŠ¤ì˜ ê²½ìš° ë” ìì„¸íˆ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì´ˆê¸° ì„¤ì •**
  - **ë¦¬ë“€ì„œ**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìŠ¤í† ì–´**ê°€ ìƒì„±ë©ë‹ˆë‹¤.
  - ìŠ¤í† ì–´ëŠ” ê¸°ë°˜ ë¦¬ë“€ì„œë¥¼ **í•œ ë²ˆ í˜¸ì¶œí•˜ì—¬ ë°˜í™˜ ê°’ì„ ì´ˆê¸° ê°’ìœ¼ë¡œ ì €ì¥**í•©ë‹ˆë‹¤.
  - UIì˜ ì²« ë Œë”ë§ì—ì„œ **UI ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì˜ í˜„ì¬ ìƒíƒœì— ì—‘ì„¸ìŠ¤**í•˜ê³  **ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ë Œë”ë§ í•  ì»´í¬ë„ŒíŠ¸ë¥¼ ê²°ì •**í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í–¥í›„ **ìŠ¤í† ì–´ ì—…ë°ì´íŠ¸ë¥¼ ì°¸ì¡°í•˜ì—¬ ìƒíƒœ ë³€ê²½ì‚¬í•­ì„ í™•ì¸**í•©ë‹ˆë‹¤.
- **ì—…ë°ì´íŠ¸**
  - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë²„íŠ¼ í´ë¦­ê³¼ ê°™ì€ **ì´ë²¤íŠ¸ê°€ ë°œìƒ**í•©ë‹ˆë‹¤.
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” **`dispatch` ë¥¼ í†µí•´ ì•¡ì…˜ì„ ìŠ¤í† ì–´ì— ì „ë‹¬**í•©ë‹ˆë‹¤.
  - ìŠ¤í† ì–´ëŠ” **ì´ì „ ìƒíƒœ ê°’ê³¼ ì•¡ì…˜ ê°ì²´ë¥¼ í™œìš©**í•˜ì—¬ **ìƒˆë¡œìš´ ìƒíƒœ ê°’ì„ ë°˜í™˜**í•©ë‹ˆë‹¤.
  - ìŠ¤í† ì–´ëŠ” **ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì—…ë°ì´íŠ¸ ì‚¬í•­ì„ ì „ë‹¬í•©ë‹ˆë‹¤.**
  - í•´ë‹¹í•˜ëŠ” **UI ì»´í¬ë„ŒíŠ¸ëŠ” ìƒíƒœ ë³€ê²½ì„ í™•ì¸**í•©ë‹ˆë‹¤.
  - ë°ì´í„° ë³€ê²½ì´ ì´ë£¨ì–´ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” **ìƒˆë¡­ê²Œ ë Œë”ë§ë˜ì–´ í™”ë©´ì— ë°˜ì˜**ë©ë‹ˆë‹¤.

ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![redux_data_flow](https://ko.redux.js.org/assets/images/ReduxDataFlowDiagram-49fa8c3968371d9ef6f2a1486bd40a26.gif)

ê¸ˆì¼ í•™ìŠµí•œ ë‚´ìš©ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- **ë¦¬ë•ìŠ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.**
  - ë¦¬ë•ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ë•ìŠ¤ì™€ ë¦¬ì•¡íŠ¸ë¥¼ í•¨ê»˜ í†µí•©í•˜ê¸° ìœ„í•´ `React-Redux` ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.
  - `Redux Toolkit` ì€ ë¦¬ë•ìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ë° ê¶Œì¥ë˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
- ë¦¬ë•ìŠ¤ëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ ì•± êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - ìƒíƒœëŠ” íŠ¹ì • ì‹œì ì—ì„œ ì•±ì˜ ìƒíƒœë¥¼ ì„¤ëª…í•˜ê³  UIëŠ” í•´ë‹¹ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.
  - ì•±ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´
    - UIê°€ ì‘ì—…ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
    - ìŠ¤í† ì–´ëŠ” ë¦¬ë“€ì„œë¥¼ ì‹¤í–‰í•˜ê³  ìƒíƒœëŠ” ë°œìƒí•œ ì•¡ì…˜ì— ë”°ë¼ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
    - ìŠ¤í† ì–´ëŠ” ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŒì„ UIì— ì•Œë¦½ë‹ˆë‹¤.
  - UIëŠ” ìƒˆ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì‹œ ë Œë”ë§ë©ë‹ˆë‹¤.
- ë¦¬ë•ìŠ¤ëŠ” ì—¬ëŸ¬ ìœ í˜•ì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - ì•¡ì…˜ì€ `type` í•„ë“œê°€ ìˆëŠ” ì¼ë°˜ ê°ì²´ì´ë©° ì•±ì—ì„œ ë°œìƒí•œ ì•¡ì…˜ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
  - ë¦¬ë“€ì„œëŠ” ì´ì „ ìƒíƒœì™€ ì•¡ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ ìƒíƒœ ê°’ì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
  - ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ëŠ” ì•¡ì…˜ì´ ì „ë‹¬ ë  ë•Œë§ˆë‹¤ ê¸°ë°˜ ë¦¬ë“€ì„œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

# ì‹¤ìŠµ ì§„í–‰í•˜ê¸°

---

ê·¸ë ‡ë‹¤ë©´ ì•ì—ì„œ ë°°ìš´ ë‚´ìš©ì„ í†µí•´ **ê°„ë‹¨í•œ ë¦¬ë•ìŠ¤ ì•±**ì„ ë§Œë“¤ì–´ ì—°ìŠµí•´ë´…ì‹œë‹¤.

í”„ë¡œì íŠ¸ ì‹œì‘ì€ [CRA í”„ë¡œì íŠ¸ìš© ê³µì‹ ë¦¬ë•ìŠ¤ í…œí”Œë¦¿](https://github.com/reduxjs/cra-template-redux)ì„ ì‚¬ìš©í•˜ì—¬ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```sh
npx create-react-app my-app --template redux

# or

yarn create react-app my-app --template redux
```

ê·¸ë ‡ê²Œ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ê³  í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•˜ë©´ ê¸°ì¡´ CRA í”„ë¡œì íŠ¸ êµ¬ì¡°ì— `Redux Toolkit` ì„ í™œìš©í•˜ì—¬ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì™€ ë¡œì§ì´ ìˆê³ , `React-Redux` ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì™€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°í•˜ëŠ” êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰ì‹œì¼œë´…ì‹œë‹¤.

![redux](https://user-images.githubusercontent.com/87939521/149271926-c0976cee-cebd-4de6-b33a-766bc921a132.PNG)

`npm start` ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë¯¸ë¦¬ ì„¤ì¹˜í–ˆë˜ [í¬ë¡¬ ë¦¬ë•ìŠ¤ ê°œë°œì ë„êµ¬ í™•ì¥ í”„ë¡œê·¸ë¨](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=ko)ì„ í†µí•´ í•´ë‹¹ í”„ë¡œì íŠ¸ ë‚´ ë¦¬ë•ìŠ¤ê°€ ì–´ë–»ê²Œ ì‹¤í–‰ë˜ê³  ìˆëŠ” ì§€ì— ëŒ€í•´ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ íˆ´ í™”ë©´ ìº¡ì³ëŠ” ìƒëµí•˜ê³  ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì „ì œ í•˜ì— ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.

ìš°ì„ ì ìœ¼ë¡œ ëˆˆì— ë„ëŠ” ê±´ `+` , `-` ë²„íŠ¼ì…ë‹ˆë‹¤. í•´ë‹¹ ë²„íŠ¼ì„ ì…ë ¥í•˜ë©´ í˜„ì¬ ìƒíƒœ ê°’ì´ 1ì”© ì¦ê°€í•˜ê±°ë‚˜ ê°ì†Œí•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì²˜ìŒ `+` ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ë‹¤ìŒê³¼ ê°™ì´ ìƒíƒœ ê°’ì´ ë³€í™”í•˜ê³  `counter/increment` ì•¡ì…˜ì´ ì „ë‹¬ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
// ì—…ë°ì´íŠ¸ í›„ ìƒíƒœ ê°’
{
  counter: {
    value: 1;
  }
}

// ì•¡ì…˜ í˜•ì‹
{
  type: 'counter/increment',
}
```

ë‹¤ìŒìœ¼ë¡œ `Add Amount` ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìƒíƒœ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ë´…ì‹œë‹¤. í•´ë‹¹ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì…ë ¥ë€ì— ìˆëŠ” ìˆ«ìë§Œí¼ ì´ì „ ìƒíƒœ ê°’ì— ë”í•´ì§‘ë‹ˆë‹¤. ê·¸ë¦¬ê³ 

```ts
{
  type: 'counter/incrementByAmount',
  payload: 2
}
```

ì´ì „ì˜ ì•¡ì…˜ í˜•ì‹ê³¼ ë¹„êµí•˜ë©´ `payload` ë¼ëŠ” í•„ë“œê°€ ìƒˆë¡­ê²Œ ìƒê²¨ë‚¬ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ `payload` í•„ë“œë¥¼ í†µí•´ ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ë¶€ê°€ì ì¸ ì‚¬í•­ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‚˜ë¨¸ì§€ ë‘ ê°€ì§€ ë²„íŠ¼ì¸ `Add Async` ì™€ `Add If Odd` ëŠ” ì½”ë“œ ë¶„ì„ê³¼ ë™ì‹œì— ì§„í–‰í•˜ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.

## ì–´í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°

---

ìœ„ í”„ë¡œì íŠ¸ì˜ ì£¼ìš” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- `/src`
  - `index.js`: ì•±ì˜ ì‹œì‘ì 
  - `App.js`: ìµœìƒìœ„ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸
  - `/app`
    - `store.js`: Redux ìŠ¤í† ì–´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±
  - `/features`
  - `/counter`
    - `Counter.js`: ì¹´ìš´í„° ê¸°ëŠ¥ì˜ UIë¥¼ ë³´ì—¬ì£¼ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸
    - `counterSlice.js`: ì¹´ìš´í„° ê¸°ëŠ¥ì„ ìœ„í•œ ë¦¬ë•ìŠ¤ ë¡œì§

ìš°ì„  **ìŠ¤í† ì–´ ìƒì„±**ë¶€í„° ì•Œì•„ë³´ë„ë¡ í•©ì‹œë‹¤.

### ìŠ¤í† ì–´ ìƒì„±

---

ìŠ¤í† ì–´ëŠ” **ë¦¬ë“€ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±**ëœë‹¤ê³  ì´ì „ì— ë°°ìš´ ë°”ê°€ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ `app/store.js` ë¥¼ í™•ì¸í•˜ë©´ ë‹¤ìŒì˜ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
import { configureStore } from "@reduxjs/toolkit";
import counterReducer from "../features/counter/counterSlice";

export const store = configureStore({
  reducer: {
    counter: counterReducer,
  },
});
```

`Redux Toolkit` ì˜ `configureStore` ë©”ì„œë“œë¥¼ í†µí•´ ë‹¤ìŒê³¼ ê°™ì´ `reducer` í•„ë“œì— ë¦¬ë“€ì„œë¥¼ ì „ë‹¬í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ë‚˜ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë‹¤ì–‘í•œ ê¸°ëŠ¥ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, ê° ê¸°ëŠ¥ì€ ë¦¬ë“€ì„œë¥¼ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” `configureStore` ë©”ì„œë“œë¥¼ í†µí•´ ì´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê³ , í•´ë‹¹ **ê°ì²´ì˜ í‚¤ ê°’ì€ ìƒíƒœ ê°’ì˜ í‚¤ë¡œ ì •ì˜ë©ë‹ˆë‹¤.** ìœ„ ê²½ìš° `counterReducer` ì˜ ìƒíƒœ ê°’ì€ `counter` ì— í•´ë‹¹í•©ë‹ˆë‹¤.

- ğŸš€ [`configureStore` ì— ëŒ€í•œ ìì„¸í•œ ì‚¬í•­](https://redux-toolkit.js.org/api/configureStore)

ê·¸ë ‡ë‹¤ë©´ ìœ„ì—ì„œ ê¸°ë°˜ì´ ëœ ë¦¬ë“€ì„œì¸ `counterReducer` ì˜ ì¶œì²˜ë¥¼ ì°¾ì•„ê°€ ì•Œì•„ë´…ì‹œë‹¤.

### ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ ë° ì•¡ì…˜ ìƒì„±

---

`counterReducer` ì˜ ì¶œì²˜ì¸ `app/features/counterSlice.js` ë¥¼ í™•ì¸í•˜ë©´ ë¹„ë™ê¸° ìš”ì²­ê³¼ ì¡°ê±´ë¶€ ìš”ì²­ì„ ì œì™¸í•˜ê³  ë‹¤ìŒì˜ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
import { createSlice } from "@reduxjs/toolkit";

export const counterSlice = createSlice({
  name: "counter",
  initialState: {
    value: 0,
  },
  reducers: {
    increment: (state) => {
      state.value += 1;
    },
    decrement: (state) => {
      state.value -= 1;
    },
    incrementByAmount: (state, action) => {
      state.value += action.payload;
    },
  },
});

export const { increment, decrement, incrementByAmount } = counterSlice.actions;

export default counterSlice.reducer;
```

ìš°ì„  í•´ë‹¹ ì½”ë“œì—ì„œ ëˆˆì— ë„ëŠ” ê²ƒìœ¼ë¡œ `createSlice` ë¼ëŠ” ë©”ì„œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `createSlice` ëŠ” **ìŠ¬ë¼ì´ìŠ¤ ëª…, ì´ˆê¸° ìƒíƒœ ê°’, ë¦¬ë“€ì„œ í•¨ìˆ˜ ê°ì²´ ë“±ì„ ì¸ì**ë¡œ ë°›ì•„ **ë¦¬ë“€ì„œ ë° ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ì•¡ì…˜ ìƒì„±ìì™€ ìœ í˜•ì„ ìë™ìœ¼ë¡œ ìƒì„±**í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

- ğŸš€ [`createSlice` ì— ëŒ€í•œ ìì„¸í•œ ì‚¬í•­](https://redux-toolkit.js.org/api/createslice)

ê°„ë‹¨íˆ ë§í•˜ìë©´ `type` ê³¼ `payload` ë“±ì„ ê°–ëŠ” ì•¡ì…˜ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì´ì „ ì•¡ì…˜ ìœ í˜•ì—ì„œ `counter/~` í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ë©´ `sliceName/reducerName` ìœ¼ë¡œ êµ¬ì„± ë¨ì„ ìœ ì¶”í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

`reducers` í•„ë“œì˜ ê°ì²´ ë©”ì„œë“œë¥¼ ìì„¸íˆ ì‚´í´ë³´ë©´ ì¸ìë¡œ `(state, action)` ì„ ë°›ì•„ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ ê²½ìš° ì´ˆê¸° ìƒíƒœ ê°’ì„ `{ value: 0 }` ë¡œ ì„¤ì •í–ˆê¸°ì— `state.value` ë¥¼ í†µí•´ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ë§ˆì§€ë§‰ ë©”ì„œë“œì¸ `incrementByAmount` ì˜ ê²½ìš°ì—” `action` ì˜ `payload` ê°’ì„ ì°¸ì¡°í•˜ì—¬ ìƒíƒœ ê°’ì„ ì—…ë°ì´íŠ¸ ì‹œí‚µë‹ˆë‹¤.

ì•ì„œ **ë¦¬ë“€ì„œë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ì˜í•´ì•¼ í•  ì (ë¶ˆë³€ì„±, ë¹„ë™ê¸° ë¡œì§ ì‚¬ìš© ê¸ˆì§€ ë“±)ì„** ì–¸ê¸‰í•œ ì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ì— ëŒ€í•œ ì´ìœ ë¥¼ ì„¤ëª…í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ë¦¬ë•ìŠ¤ì˜ ëª©í‘œ ì¤‘ í•˜ë‚˜ëŠ” **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œ**ë¥¼ ë§Œë“œëŠ” ê²ƒì´ê³ , í•¨ìˆ˜ ì¶œë ¥ì´ ì…ë ¥ ì¸ìˆ˜ì—ì„œ ê³„ì‚°ë˜ëŠ” ê²ƒì€ ì‘ë™ ë°©ì‹ì„ ì¢€ ë” ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.
- ë°˜ë©´ í•¨ìˆ˜ê°€ **ì™¸ë¶€ ë³€ìˆ˜ì— ì˜ì¡´**í•˜ê±°ë‚˜ **ë¬´ì‘ìœ„ë¡œ ë™ì‘í•˜ëŠ” ê²½ìš°** ì´ë¥¼ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.
- ë˜í•œ í•¨ìˆ˜ê°€ **ì¸ìˆ˜ë¥¼ í¬í•¨í•œ ë‹¤ë¥¸ ê°’ì„ ìˆ˜ì •**í•œë‹¤ë©´, ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ë° UIê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ë“±ì˜ ì˜¤ë¥˜ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš”ì»¨ë° **ë¶ˆí™•ì‹¤í•œ ìš”ì†Œ**ëŠ” **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œ**ë¥¼ í•´ì¹˜ëŠ” ìš”ì¸ì´ê³  **ë¶ˆë³€ì„±ì„ ìœ ì§€í•  í•„ìš”**ê°€ ìˆê¸° ë•Œë¬¸ì—, ì´ë¥¼ ì§€ì–‘í•˜ìëŠ” ë§ì…ë‹ˆë‹¤.

### ë¦¬ë“€ì„œì˜ ë¶ˆë³€ì„±

---

ë¦¬ë•ìŠ¤ì—ì„œ **ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì´ìœ **ë¥¼ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- **ìµœì‹  ìƒíƒœ ê°’ì— ë”°ë¼ UIê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ë“±ì˜ ë²„ê·¸**ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ìƒíƒœ ì—…ë°ì´íŠ¸ì— ëŒ€í•œ **ë°©ë²•ì´ë‚˜ ì´ìœ ë¥¼ ì•Œê¸° í˜ë“­ë‹ˆë‹¤.**
- í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.

ì´ë¥¼ ìœ„í•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `spread operator` ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¹Šì€ ë³µì‚¬ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì§€ë§Œ, ì´ëŠ” ìƒë‹¹íˆ ë³µì¡í•œ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°–ê²Œ ë§Œë“¤ë©´ì„œ ì•„ë˜ì™€ ê°•í‹° ì§ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê¸° í˜ë“¤ê²Œ ë§Œë“­ë‹ˆë‹¤.

```ts
function handwrittenReducer(state, action) {
  return {
    ...state,
    first: {
      ...state.first,
      second: {
        ...state.first.second,
        [action.someId]: {
          ...state.first.second[action.someId],
          fourth: action.someValue,
        },
      },
    },
  };
}
```

ì´ë¥¼ ìœ„í•´ `createSlice` ëŠ” **[Immer](https://immerjs.github.io/immer/) inside** ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³ , ì´ë¥¼ í†µí•´ ìœ„ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
function reducerWithImmer(state, action) {
  state.first.second[action.someId].fourth = action.someValue;
}
```

í—ˆë‚˜ ì´ëŸ¬í•œ ë¶€ë¶„ì€ `createSlice` ì™€ `createReducer` ì™€ ê°™ì€ í•´ë‹¹ ë‚´ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ë§Œ ì ìš© ê°€ëŠ¥í•˜ë¯€ë¡œ ì´ë¥¼ í˜¼ëˆí•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### Thunkë¡œ ë¹„ë™ê¸° ë¡œì§ ì‘ì„±í•˜ê¸°

---

ì•ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ë™ê¸°ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” í•¨ìˆ˜ì˜€ê³ , ì´ì œ **ë¹„ë™ê¸°ì‹ ë¡œì§ì„ ì‚¬ìš©**í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤. ì´ë¥¼ ìœ„í•´ **Thunk** ë¼ëŠ” ë¹„ë™ê¸° ìƒì„±ì„ ìœ„í•œ ë¦¬ë•ìŠ¤ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. í•´ë‹¹ í•¨ìˆ˜ëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤.

- `dispatch` ë° `getState` ë¡œ ë°›ëŠ” **ë‚´ë¶€ Thunk í•¨ìˆ˜**
- Thunk í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ë°˜í™˜í•˜ëŠ” **ì™¸ë¶€ ìƒì„±ì í•¨ìˆ˜**

Thunk í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
export const incrementAsync = createAsyncThunk(
  "counter/fetchCount",
  async (amount) => {
    const response = await fetchCount(amount);
    // The value we return becomes the `fulfilled` action payload
    return response.data;
  }
);
```

`createAsyncThunk` ì€ **ì•¡ì…˜ ê°ì²´ì˜ íƒ€ì…(ë¬¸ìì—´)ê³¼ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ì½œë°± í•¨ìˆ˜**ë¥¼ ë°›ì•„, í”„ë¡œë¯¸ìŠ¤ ìƒëª…ì£¼ê¸° ì•¡ì…˜ íƒ€ì…ê³¼ **Thunk action creator**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

- **Thunk action creator**: í”„ë¡œë¯¸ìŠ¤ ì½œë°±ì„ ì‹¤í–‰í•˜ê³  í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¼ì´í”„ì‚¬ì´í´ ì•¡ì…˜ì„ ë””ìŠ¤íŒ¨ì¹˜í•©ë‹ˆë‹¤.

ì´ëŠ” ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ì§€, ë¡œë“œ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë°©ë²• ë° ë°˜í™˜ ë°ì´í„°ì˜ ì²˜ë¦¬ì— ëŒ€í•´ ëª¨ë¥´ê¸° ë•Œë¬¸ì— **ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ **, `extraReducers` í•„ë“œë¥¼ í†µí•´ ì´ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

- ğŸš€ [`createAsyncThunk` ì— ëŒ€í•œ ìì„¸í•œ ì‚¬í•­](https://redux-toolkit.js.org/api/createAsyncThunk)

í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ê²½ìš° `extraReducer` ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ê´€ë¦¬í•©ë‹ˆë‹¤.

```ts
extraReducers: (builder) => {
  builder
    .addCase(incrementAsync.pending, (state) => {
      state.status = 'loading';
    })
    .addCase(incrementAsync.fulfilled, (state, action) => {
      state.status = 'idle';
      state.value += action.payload;
    });
},
```

í•´ë‹¹ ë¹„ë™ê¸° ìš”ì²­ì´ `pending` ìƒíƒœì¼ ê²½ìš°ì™€ `fulfilled` ì¼ ê²½ìš°ë¥¼ ëª…ì‹œí•˜ì—¬, ê²½ìš°ì— ë”°ë¼ ìƒíƒœ ê°’ì˜ `state.status` ì™€ `state.value` ê°€ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤.
